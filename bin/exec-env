#!/usr/bin/env bash

if [ -n "$ASDF_INSTALL_PATH" ]; then
  if [ "${EMSDK-}" = "" ]; then
    export EMSDK="${ASDF_INSTALL_PATH}"
  fi
  if [ "${EM_CONFIG-}" = "" ]; then
    export EM_CONFIG="${ASDF_INSTALL_PATH}/.emscripten"
  fi
  if [ "${EM_CONFIG-}" = "" ]; then
    export EM_CONFIG="${ASDF_INSTALL_PATH}/upstream/emscripten/cache"
  fi

  if [ "${EMSDK_NODE-}" = "" ]; then
    if [ -d "${ASDF_INSTALL_PATH}/node" ]; then
      for DIR in $(ls "${ASDF_INSTALL_PATH}/node"); do
        export EMSDK_NODE="${ASDF_INSTALL_PATH}/node/${DIR}/bin/node"
      done
    fi
  fi
fi
